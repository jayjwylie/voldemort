<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_27) on Thu Aug 08 14:55:24 PDT 2013 -->
<TITLE>
AdminClient.ReadOnlySpecificOperations (Voldemort)
</TITLE>

<META NAME="date" CONTENT="2013-08-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AdminClient.ReadOnlySpecificOperations (Voldemort)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AdminClient.ReadOnlySpecificOperations.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/AdminClient.MetadataManagementOperations.html" title="class in voldemort.client.protocol.admin"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/AdminClient.RebalancingOperations.html" title="class in voldemort.client.protocol.admin"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AdminClient.ReadOnlySpecificOperations.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
voldemort.client.protocol.admin</FONT>
<BR>
Class AdminClient.ReadOnlySpecificOperations</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>voldemort.client.protocol.admin.AdminClient.ReadOnlySpecificOperations</B>
</PRE>
<DL>
<DT><B>Enclosing class:</B><DD><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.html" title="class in voldemort.client.protocol.admin">AdminClient</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>AdminClient.ReadOnlySpecificOperations</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Encapsulates all operations specific to read-only stores alone
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#AdminClient.ReadOnlySpecificOperations()">AdminClient.ReadOnlySpecificOperations</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#failedFetchStore(int, java.lang.String, java.lang.String)">failedFetchStore</A></B>(int&nbsp;nodeId,
                 java.lang.String&nbsp;storeName,
                 java.lang.String&nbsp;storeDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When a fetch store fails, we don't need to keep the pushed data
 around.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#fetchPartitionFiles(int, java.lang.String, java.util.List, java.lang.String, java.util.Set, java.util.concurrent.atomic.AtomicBoolean)">fetchPartitionFiles</A></B>(int&nbsp;nodeId,
                    java.lang.String&nbsp;storeName,
                    java.util.List&lt;java.lang.Integer&gt;&nbsp;partitionIds,
                    java.lang.String&nbsp;destinationDirPath,
                    java.util.Set&lt;java.lang.Object&gt;&nbsp;notAcceptedBuckets,
                    java.util.concurrent.atomic.AtomicBoolean&nbsp;running)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetch read-only store files to a specified directory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#fetchStore(int, java.lang.String, java.lang.String, long, long)">fetchStore</A></B>(int&nbsp;nodeId,
           java.lang.String&nbsp;storeName,
           java.lang.String&nbsp;storeDir,
           long&nbsp;pushVersion,
           long&nbsp;timeoutMs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetch data from directory 'storeDir' on node id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROCurrentVersion(int, java.util.List)">getROCurrentVersion</A></B>(int&nbsp;nodeId,
                    java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'current' version of RO store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROCurrentVersionDir(int, java.util.List)">getROCurrentVersionDir</A></B>(int&nbsp;nodeId,
                       java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the 'current' versions of all RO stores provided</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROMaxVersion(int, java.util.List)">getROMaxVersion</A></B>(int&nbsp;nodeId,
                java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the max version of push currently being used by read-only
 store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROMaxVersion(java.util.List)">getROMaxVersion</A></B>(java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a wrapper around
 <A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROMaxVersion(int, java.util.List)"><CODE>getROMaxVersion(int, List)</CODE></A>
 where-in we find the max versions on each machine and then return the
 max of all of them</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROMaxVersionDir(int, java.util.List)">getROMaxVersionDir</A></B>(int&nbsp;nodeId,
                   java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the max version of push currently being used by read-only
 store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROStorageFormat(int, java.util.List)">getROStorageFormat</A></B>(int&nbsp;nodeId,
                   java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the read-only storage format - <A HREF="../../../../voldemort/store/readonly/ReadOnlyStorageFormat.html" title="enum in voldemort.store.readonly"><CODE>ReadOnlyStorageFormat</CODE></A>
 for a list of stores</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#rollbackStore(int, java.lang.String, long)">rollbackStore</A></B>(int&nbsp;nodeId,
              java.lang.String&nbsp;storeName,
              long&nbsp;pushVersion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rollback RO store to most recent backup of the current store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#swapStore(int, java.lang.String, java.lang.String)">swapStore</A></B>(int&nbsp;nodeId,
          java.lang.String&nbsp;storeName,
          java.lang.String&nbsp;storeDir)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Swap store data atomically on a single node</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AdminClient.ReadOnlySpecificOperations()"><!-- --></A><H3>
AdminClient.ReadOnlySpecificOperations</H3>
<PRE>
public <B>AdminClient.ReadOnlySpecificOperations</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="rollbackStore(int, java.lang.String, long)"><!-- --></A><H3>
rollbackStore</H3>
<PRE>
public void <B>rollbackStore</B>(int&nbsp;nodeId,
                          java.lang.String&nbsp;storeName,
                          long&nbsp;pushVersion)</PRE>
<DL>
<DD>Rollback RO store to most recent backup of the current store
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The node id on which to rollback<DD><CODE>storeName</CODE> - The name of the RO Store to rollback<DD><CODE>pushVersion</CODE> - The version of the push to revert back to</DL>
</DD>
</DL>
<HR>

<A NAME="fetchStore(int, java.lang.String, java.lang.String, long, long)"><!-- --></A><H3>
fetchStore</H3>
<PRE>
public java.lang.String <B>fetchStore</B>(int&nbsp;nodeId,
                                   java.lang.String&nbsp;storeName,
                                   java.lang.String&nbsp;storeDir,
                                   long&nbsp;pushVersion,
                                   long&nbsp;timeoutMs)</PRE>
<DL>
<DD>Fetch data from directory 'storeDir' on node id
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The id of the node on which to fetch the data<DD><CODE>storeName</CODE> - The name of the store<DD><CODE>storeDir</CODE> - The directory from where to read the data<DD><CODE>pushVersion</CODE> - The version of the push<DD><CODE>timeoutMs</CODE> - Time timeout in milliseconds
<DT><B>Returns:</B><DD>The path of the directory where the data is stored finally</DL>
</DD>
</DL>
<HR>

<A NAME="failedFetchStore(int, java.lang.String, java.lang.String)"><!-- --></A><H3>
failedFetchStore</H3>
<PRE>
public void <B>failedFetchStore</B>(int&nbsp;nodeId,
                             java.lang.String&nbsp;storeName,
                             java.lang.String&nbsp;storeDir)</PRE>
<DL>
<DD>When a fetch store fails, we don't need to keep the pushed data
 around. This function deletes its...
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The node id on which to delete the data<DD><CODE>storeName</CODE> - The name of the store<DD><CODE>storeDir</CODE> - The directory to delete</DL>
</DD>
</DL>
<HR>

<A NAME="swapStore(int, java.lang.String, java.lang.String)"><!-- --></A><H3>
swapStore</H3>
<PRE>
public java.lang.String <B>swapStore</B>(int&nbsp;nodeId,
                                  java.lang.String&nbsp;storeName,
                                  java.lang.String&nbsp;storeDir)</PRE>
<DL>
<DD>Swap store data atomically on a single node
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The node id where we would want to swap the data<DD><CODE>storeName</CODE> - Name of the store<DD><CODE>storeDir</CODE> - The directory where the data is present
<DT><B>Returns:</B><DD>Returns the location of the previous directory</DL>
</DD>
</DL>
<HR>

<A NAME="getROStorageFormat(int, java.util.List)"><!-- --></A><H3>
getROStorageFormat</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>getROStorageFormat</B>(int&nbsp;nodeId,
                                                                           java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</PRE>
<DL>
<DD>Returns the read-only storage format - <A HREF="../../../../voldemort/store/readonly/ReadOnlyStorageFormat.html" title="enum in voldemort.store.readonly"><CODE>ReadOnlyStorageFormat</CODE></A>
 for a list of stores
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The id of the node on which the stores are present<DD><CODE>storeNames</CODE> - List of all the store names
<DT><B>Returns:</B><DD>Returns a map of store name to its corresponding RO storage
         format</DL>
</DD>
</DL>
<HR>

<A NAME="getROMaxVersionDir(int, java.util.List)"><!-- --></A><H3>
getROMaxVersionDir</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>getROMaxVersionDir</B>(int&nbsp;nodeId,
                                                                           java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</PRE>
<DL>
<DD>Returns the max version of push currently being used by read-only
 store. Important to remember that this may not be the 'current'
 version since multiple pushes (with greater version numbers) may be
 in progress currently
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The id of the node on which the store is present<DD><CODE>storeNames</CODE> - List of all the stores
<DT><B>Returns:</B><DD>Returns a map of store name to the respective store directory</DL>
</DD>
</DL>
<HR>

<A NAME="getROCurrentVersionDir(int, java.util.List)"><!-- --></A><H3>
getROCurrentVersionDir</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>getROCurrentVersionDir</B>(int&nbsp;nodeId,
                                                                               java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</PRE>
<DL>
<DD>Returns the 'current' versions of all RO stores provided
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The id of the node on which the store is present<DD><CODE>storeNames</CODE> - List of all the RO stores
<DT><B>Returns:</B><DD>Returns a map of store name to the respective max version
         directory</DL>
</DD>
</DL>
<HR>

<A NAME="getROCurrentVersion(int, java.util.List)"><!-- --></A><H3>
getROCurrentVersion</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.Long&gt; <B>getROCurrentVersion</B>(int&nbsp;nodeId,
                                                                          java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</PRE>
<DL>
<DD>Returns the 'current' version of RO store
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The id of the node on which the store is present<DD><CODE>storeNames</CODE> - List of all the stores
<DT><B>Returns:</B><DD>Returns a map of store name to the respective max version
         number</DL>
</DD>
</DL>
<HR>

<A NAME="getROMaxVersion(int, java.util.List)"><!-- --></A><H3>
getROMaxVersion</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.Long&gt; <B>getROMaxVersion</B>(int&nbsp;nodeId,
                                                                      java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</PRE>
<DL>
<DD>Returns the max version of push currently being used by read-only
 store. Important to remember that this may not be the 'current'
 version since multiple pushes (with greater version numbers) may be
 in progress currently
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The id of the node on which the store is present<DD><CODE>storeNames</CODE> - List of all the stores
<DT><B>Returns:</B><DD>Returns a map of store name to the respective max version
         number</DL>
</DD>
</DL>
<HR>

<A NAME="getROMaxVersion(java.util.List)"><!-- --></A><H3>
getROMaxVersion</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.Long&gt; <B>getROMaxVersion</B>(java.util.List&lt;java.lang.String&gt;&nbsp;storeNames)</PRE>
<DL>
<DD>This is a wrapper around
 <A HREF="../../../../voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html#getROMaxVersion(int, java.util.List)"><CODE>getROMaxVersion(int, List)</CODE></A>
 where-in we find the max versions on each machine and then return the
 max of all of them
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>storeNames</CODE> - List of all read-only stores
<DT><B>Returns:</B><DD>A map of store-name to their corresponding max version id</DL>
</DD>
</DL>
<HR>

<A NAME="fetchPartitionFiles(int, java.lang.String, java.util.List, java.lang.String, java.util.Set, java.util.concurrent.atomic.AtomicBoolean)"><!-- --></A><H3>
fetchPartitionFiles</H3>
<PRE>
public void <B>fetchPartitionFiles</B>(int&nbsp;nodeId,
                                java.lang.String&nbsp;storeName,
                                java.util.List&lt;java.lang.Integer&gt;&nbsp;partitionIds,
                                java.lang.String&nbsp;destinationDirPath,
                                java.util.Set&lt;java.lang.Object&gt;&nbsp;notAcceptedBuckets,
                                java.util.concurrent.atomic.AtomicBoolean&nbsp;running)</PRE>
<DL>
<DD>Fetch read-only store files to a specified directory. This is run on
 the stealer node side
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nodeId</CODE> - The node id from where to copy<DD><CODE>storeName</CODE> - The name of the read-only store<DD><CODE>partitionIds</CODE> - List of partitionIds<DD><CODE>destinationDirPath</CODE> - The destination path<DD><CODE>notAcceptedBuckets</CODE> - These are Pair< partition, replica > which
        we cannot copy AT all. This is because these are current
        mmap-ed and are serving traffic.<DD><CODE>running</CODE> - A boolean which will control when we want to stop the
        copying of files. As long this is true, we will continue
        copying. Once this is changed to false we'll disable the
        copying</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AdminClient.ReadOnlySpecificOperations.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/AdminClient.MetadataManagementOperations.html" title="class in voldemort.client.protocol.admin"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/AdminClient.RebalancingOperations.html" title="class in voldemort.client.protocol.admin"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?voldemort/client/protocol/admin/AdminClient.ReadOnlySpecificOperations.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AdminClient.ReadOnlySpecificOperations.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Jay Kreps, Roshan Sumbaly, Alex Feinberg, Bhupesh Bansal, Lei Gao, Chinmay Soman, Vinoth Chandar, Zhongjie Wu
</BODY>
</HTML>
